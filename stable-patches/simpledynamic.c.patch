diff --git a/test/simpledynamic.c b/test/simpledynamic.c
index 2cced8c..d32b6b5 100644
--- a/test/simpledynamic.c
+++ b/test/simpledynamic.c
@@ -8,6 +8,7 @@
  */
 
 #include <string.h>
+#include <stdio.h>
 #include <stdlib.h>              /* For NULL */
 #include <openssl/macros.h>      /* For NON_EMPTY_TRANSLATION_UNIT */
 #include <openssl/e_os2.h>
@@ -34,7 +35,14 @@ int sd_sym(SD lib, const char *symname, SD_SYM *sym)
 
 int sd_close(SD lib)
 {
-    return dlclose(lib) != 0 ? 0 : 1;
+    int rc = dlclose(lib);
+    if (rc != 0) {
+        const char *err = dlerror();
+        if (err && strstr(err, "CEE3567I"))
+            return 1;
+        return 0;
+    }
+    return 1;
 }
 
 const char *sd_error(void)
